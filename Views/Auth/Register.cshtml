@model MultiMinesweeper.Model.Register

@{
    Layout = "_Layout";
}

@section Styles
{
}

@section LibStyles
{
}

@section Scripts
{
    <script type="text/javascript">
        document.addEventListener('input', function () { 
           var password = document.getElementById('password');
           var confirmPassword = document.getElementById('password-confirm');
           var confirm = document.getElementById('confirm');
           var regButton = document.getElementById('reg-btn');
           
           if(password.value !== confirmPassword.value){
            
              confirm.style.cssText = 'display:block';
              regButton.classList.add('disabled');
           }
           else {
               confirm.style.cssText = 'display:none';
               regButton.classList.remove('disabled');
           }
         })
    </script>
}

<div class="container-fluid">
    <div class="row">
        <div class="offset-sm-4 offset-3 col-md-4 col-6">
            <div style="margin-top: 25%" class="">
                <form method="post" action="@Url.Action("Register", "Auth")">
                    @Html.AntiForgeryToken()
                    <h3 align="center">Регистрация</h3>
                    <div class="input-group">
                        <input placeholder="Логин" id="login" class="form-control mb-3" type="text" name="Login" required/>
                    </div>
                    <div class="input-group">
                        <input placeholder="Пароль" id="password" class="form-control mb-3" type="password" name="Password" required/>
                    </div>
                    <div class="input-group">
                        <input placeholder="Проверка пароля" id="password-confirm" class="form-control mb-3" type="password" name="Password" required/>
                    </div>
                    <div id="confirm" style="display: none" class="input-group">
                        <p class="text-danger">Пароли не совпадают</p>
                    </div>
                    <button type="submit" id="reg-btn" class="btn btn-outline-success btn-block">Зарегистрировать</button>
                    <a class="btn btn-outline-primary btn-block" href="@Url.Action("SignIn", "Auth")">Авторизация</a>
                </form>
                <p class="text-danger" >@Model.Message</p>
            </div>
        </div>
    </div>
</div>
